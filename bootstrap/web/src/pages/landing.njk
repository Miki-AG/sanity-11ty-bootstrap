---
pagination: { data: pages, size: 1, alias: page }
permalink: "/{{ page.slug | url }}/index.html"
layout: base.njk
eleventyComputed: { title: "{{ page.title }}" }
---
{# Show an H1 only if there is no heroCover block #}
{% set hasHero = false %}
{% if page.blocks and (page.blocks | length) > 0 %}
  {% for b in page.blocks %}
    {% if b._type == 'heroCover' %}{% set hasHero = true %}{% endif %}
  {% endfor %}
{% endif %}

{% if not hasHero %}
  <section class="container my-4">
    <h1 class="display-5">{{ page.title }}</h1>
  </section>
{% endif %}
{% for block in page.blocks %}
  {% include "blocks/" + block._type + ".njk" %}
{% endfor %}
