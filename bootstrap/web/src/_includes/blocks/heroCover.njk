{# Alignment settings (Nunjucks-safe) #}
{% set align = block.align or 'center' %}
{% set textAlign = 'text-center' %}
{% if align == 'start' %}{% set textAlign = 'text-start' %}{% elseif align == 'end' %}{% set textAlign = 'text-end' %}{% endif %}

{# Color helpers (avoid JS-style ternaries) #}
{% set titleColorClass = '' %}
{% set leadColorClass = '' %}
{% if block.bgUrl %}
  {% set titleColorClass = 'text-white' %}
  {% set leadColorClass = 'text-white-50' %}
{% endif %}

<section class="container-fluid p-0 mb-4">
  <div class="position-relative overflow-hidden p-3 p-md-5 text-{{ align }} bg-body-tertiary" style="{% if block.bgUrl %}background-image:url('{{ block.bgUrl }}'); background-size:cover; background-position:center;{% endif %}">
    {% if block.bgUrl %}
      <div class="position-absolute top-0 start-0 w-100 h-100" style="background-color: rgba(0,0,0,.35);"></div>
    {% endif %}
    <div class="container position-relative">
      <div class="col-lg-8 mx-auto {{ textAlign }} py-5">
        {% if block.title %}
          <h1 class="display-5 fw-bold {{ titleColorClass }}">{{ block.title }}</h1>
        {% endif %}
        {% if block.lead %}
          <div class="lead {{ leadColorClass }} mt-3">
            {{ block.lead | pt | safe }}
          </div>
        {% endif %}

        {% if block.buttons and (block.buttons | length) > 0 %}
          <div class="mt-4 d-flex gap-3 justify-content-{{ align }} flex-wrap">
            {% for btn in block.buttons %}
              {% set style = btn.style or 'primary' %}
              <a class="btn btn-{{ style }} btn-lg" href="{{ btn.url }}">{{ btn.label }}</a>
            {% endfor %}
          </div>
        {% endif %}
      </div>
    </div>
  </div>
  
</section>
