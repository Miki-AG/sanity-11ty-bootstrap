{# Nunjucks-safe pricing table using Bootstrap cards #}
<section class="container my-5">
  {% if block.title %}
    <h2 class="mb-2">{{ block.title }}</h2>
  {% endif %}
  {% if block.subtitle %}
    <div class="text-muted mb-4">{{ block.subtitle | pt | safe }}</div>
  {% endif %}

  {% if block.plans and (block.plans | length) > 0 %}
    <div class="row row-cols-1 row-cols-md-3 g-4">
      {% for plan in block.plans %}
        {% set highlightClass = '' %}
        {% if plan.highlight %}{% set highlightClass = 'border-primary shadow' %}{% endif %}
        <div class="col">
          <div class="card h-100 {{ highlightClass }}">
            <div class="card-header text-center fw-semibold">{{ plan.name }}</div>
            <div class="card-body d-flex flex-column">
              {% if plan.price or plan.period %}
                <div class="display-6 text-center">
                  {% if plan.price %}<span>{{ plan.price }}</span>{% endif %}
                  {% if plan.period %}<small class="text-body-secondary">{{ ' ' ~ plan.period }}</small>{% endif %}
                </div>
              {% endif %}

              {% if plan.features and (plan.features | length) > 0 %}
                <div class="mt-3 mb-4">{{ plan.features | pt | safe }}</div>
              {% else %}
                <div class="flex-grow-1"></div>
              {% endif %}

              {% if plan.buttonUrl %}
                <div class="mt-auto text-center">
                  <a href="{{ plan.buttonUrl }}" class="btn btn-primary">{{ plan.buttonLabel or 'Get started' }}</a>
                </div>
              {% endif %}
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="alert alert-warning">No plans configured.</div>
  {% endif %}
</section>
